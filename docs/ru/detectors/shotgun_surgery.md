# Операция «Дробовик» (Shotgun Surgery)

**ID:** `shotgun_surgery` | **Степень критичности:** Средняя (по умолчанию)

«Дробовик» — это та самая бесячая ситуация, когда «простое» изменение требует правок в 15 разных файлах. Это как пытаться починить трубу, заклеивая сотню мелких дырочек вместо того, чтобы заменить секцию.

## Почему это «запах»

- **Тормозит разработку**: Любое изменение требований превращается в масштабную операцию.
- **Легко забыть кусок**: Когда логика размазана повсюду, почти наверняка вы забудете обновить один из этих файлов, что приведет к «багам-призракам».
- **Сломанная инкапсуляция**: Это верный признак того, что обязанность «сбежала» из своего модуля и теперь прячется по всем углам кодовой базы.

## Как исправить

- **Консолидация обязанностей**: Используйте рефакторинг **Move Method** или **Move Field**, чтобы собрать связанную логику в одном модуле.
- **Introduce Parameter Object**: Если нескольким модулям требуется один и тот же набор данных, сгруппируйте их в один объект.
- **Replace Data Value with Object**: Если у вас есть много модулей, обрабатывающих одни и те же примитивные данные, инкапсулируйте эти данные и их поведение в новый класс.

## Конфигурация

```yaml
rules:
  shotgun_surgery:
    severity: medium
```

### Параметры по умолчанию

- `min_co_changes`: `3` - минимальное количество совместных изменений файлов для обнаружения
- `min_frequency`: `5` - минимальная частота совместных изменений
- `lookback_commits`: `500` - количество коммитов для анализа истории (требует `git: { enabled: true }`)
