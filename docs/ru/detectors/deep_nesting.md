# Глубокая вложенность

**ID:** `deep_nesting` | **Степень критичности:** Низкая (по умолчанию)

Идентифицирует блоки кода (if, for, while и т.д.), вложенные так глубоко, что они начинают напоминать пирамиду или «лесенку».

## Почему это «запах»

Читать код с глубокой вложенностью — это как читать предложение с кучей (скобок (внутри (других скобок))). Это выматывает мозг и обычно сигнализирует о том, что функция пытается обработать слишком много краевых случаев за раз. Проще «выстрелить» пораньше (fail fast) или вынести логику в отдельную функцию.

## Как исправить

- **Guard Clauses**: Используйте ранний возврат, чтобы избежать блоков `else` и уменьшить вложенность.
- **Extract Function**: Вынесите внутренний вложенный блок в новую функцию.
- **Flatten Logic**: Пересмотрите логику, чтобы понять, можно ли выразить ее проще.

## Конфигурация

```yaml
rules:
  deep_nesting:
    severity: low
    max_depth: 4
```

## ESLint правило

Этот детектор доступен как правило ESLint для получения обратной связи в реальном времени.

```javascript
// eslint.config.js
export default [
  {
    rules: {
      '@archlinter/no-deep-nesting': 'warn',
    },
  },
];
```

Смотрите [Интеграция с ESLint](/ru/integrations/eslint) для инструкций по настройке.

### Параметры по умолчанию

- `max_depth`: `4` - максимальная глубина вложенности блоков кода
