# Злоупотребление Barrel-файлами

**ID:** `barrel_file` | **Степень критичности:** Высокая (по умолчанию)

Barrel-файлы (например, `index.ts`, которые просто реэкспортируют всё подряд) призваны упрощать импорты, но часто превращаются в архитектурную «черную дыру».

## Почему это «запах»

- **Фабрика циклических зависимостей**: Огромные barrel-файлы — причина №1 появления тех самых неуловимых циклических зависимостей, которые невозможно отследить.
- **Импорт «всего мира»**: Когда вы импортируете одну маленькую константу из гигантского barrel-файла, сборщик часто подтягивает вообще все модули, на которые тот ссылается.
- **Тормоза в работе**: Они заставляют индексацию в IDE ползать и раздувают ваш продакшн-бандл, если tree-shaking не отработал идеально.

## Как исправить

- Избегайте «всеобъемлющих» barrel-файлов в корне больших директорий.
- Отдавайте предпочтение прямым импортам, если barrel-файл вызывает проблемы.
- Группируйте экспорты в более мелкие и специализированные barrel-файлы.

## Конфигурация

```yaml
rules:
  barrel_file:
    severity: high
    max_reexports: 10
```

## ESLint правило

Этот детектор доступен как правило ESLint для получения обратной связи в реальном времени.

```javascript
// eslint.config.js
export default [
  {
    rules: {
      '@archlinter/no-barrel-abuse': 'warn',
    },
  },
];
```

Смотрите [Интеграция с ESLint](/ru/integrations/eslint) для инструкций по настройке.

### Параметры по умолчанию

- `max_reexports`: `10` - максимальное количество реэкспортов в barrel-файле
