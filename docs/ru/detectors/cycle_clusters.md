---
title: Кластеры циклических зависимостей
description: "Определяет взаимосвязанные наборы циклических зависимостей, образующие сложные сети, которые указывают на архитектурное разложение и экстремальную связанность."
---

# Кластеры циклических зависимостей

**ID:** `cycle_clusters` | **Severity:** Critical (default)

Кластер циклических зависимостей — это набор взаимосвязанных циклических зависимостей, образующих сложную сеть. В отличие от простых циклов (A -> B -> A), кластеры включают в себя несколько перекрывающихся циклов (например, A -> B -> C -> A и B -> D -> C -> B).

## Почему это плохо

- **Архитектурная деградация**: Кластеры часто указывают на отсутствие четких границ между несколькими компонентами.
- **Экстремальная связанность**: Весь кластер приходится рассматривать как единый монолитный блок.
- **Невозможность изоляции**: Почти невозможно изменить или протестировать один модуль в кластере, не затронув все остальные.
- **Кошмар поддержки**: Изменения в любой части кластера могут иметь непредсказуемые последствия для всех вовлеченных модулей.

## Примеры

### Плохо

Группа модулей в директории "core", где почти каждый модуль импортирует несколько других из той же директории, создавая множество перекрывающихся циклов.

### Хорошо

Модули должны быть организованы в иерархию или иметь четкое разделение на основе интерфейсов, чтобы циклы не образовывали кластеры.

## Конфигурация

```yaml
rules:
  cycle_clusters:
    severity: high
    max_cluster_size: 5
```

## Как исправить

1. **Разрыв узла**: Определите "узловые" модули, которые участвуют в нескольких циклах, и разделите их в первую очередь.
2. **Слоистость**: Обеспечьте строгое соблюдение правил многослойности, чтобы предотвратить горизонтальные или восходящие зависимости.
3. **Рефакторинг монолитов**: Часто кластеры являются признаком того, что один большой модуль был разделен неправильно. Рассмотрите возможность слияния или повторного разделения по другим границам.
