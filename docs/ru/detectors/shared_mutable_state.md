# Общее изменяемое состояние (Shared Mutable State)

**ID:** `shared_state` | **Степень критичности:** Средняя (по умолчанию)

Выявляет экспортируемые переменные, которые являются изменяемыми (например, `export let ...` или `export var ...`).

## Почему это «запах»

Выявляет экспортируемые переменные, которые можно изменять. Это когда вы видите `export let` или `export var`, которые любой файл может перетереть в любой момент.

## Почему это «запах»

- **Загадка «Кто это поменял?»**: Глобальное изменяемое состояние — это классика багов, которые почти невозможно отловить. Вы будете часами сидеть в дебаггере, гадая, почему значение стало `null`, и выясните, что модуль на другом конце проекта поменял его три секунды назад.
- **Состояние гонки**: Поведение вашего приложения начинает зависеть от того, в каком порядке загрузились файлы. Если один модуль импортирует состояние чуть позже — всё ломается.
- **Непредсказуемость**: Ваши модули перестают быть предсказуемыми; они все тайно делят один общий и очень грязный черновик.

## Как исправить

- **Используйте Const**: Экспортируйте только константы.
- **Инкапсулируйте**: Используйте класс или функцию для управления состоянием и обеспечьте контролируемый доступ через методы.
- **Используйте менеджер состояния**: Если состояние действительно должно быть общим, используйте подходящую библиотеку управления состоянием (Redux, Zustand и т. д.).
