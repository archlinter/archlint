# Рассредоточенный модуль

**ID:** `module_cohesion` | **Степень критичности:** Средняя (по умолчанию)

Находит файл-«склад» — модуль, в котором внутренние части (функции, классы) вообще никак не связаны друг с другом.

## Почему это «запах»

Хороший модуль должен следовать правилу: «вещи, которые меняются вместе, должны лежать вместе». Если ваш файл — это просто набор случайных хелперов, которые никогда не взаимодействуют, то это не модуль, а просто «ящик с хламом». Это затрудняет поиск кода и заставляет других разработчиков гадать, почему всё это вообще лежит в одном месте.

## Примеры

### Плохо

Файл, содержащий несвязанные вспомогательные функции, которые не разделяют общую логику или данные.

```typescript
// misc-utils.ts
export const formatCurrency = (val: number) => { ... };
export const validateEmail = (email: string) => { ... };
export const parseJwt = (token: string) => { ... };
// Эти три функции не имеют общего состояния или логики.
```

### Хорошо

Сгруппируйте несвязанные функции в конкретные, связные модули.

```typescript
// currency-utils.ts
export const formatCurrency = (val: number) => { ... };

// validation-utils.ts
export const validateEmail = (email: string) => { ... };
```

## Конфигурация

```yaml
rules:
  module_cohesion:
    severity: medium
    min_exports: 5
    max_components: 2
```

## Как исправить

Пересмотрите назначение модуля. Сгруппируйте код в более связные модули или переместите несвязанные части туда, где они действительно используются.

### Параметры по умолчанию

- `min_exports`: `5` - минимальное количество экспортов для анализа модуля
- `max_components`: `2` - максимальное количество компонентов связности в модуле
