# バレルファイルの乱用 (Barrel Abuse)

**ID:** `barrel_file` | **重要度:** 中 (デフォルト)

バレルファイル（すべてを再エクスポートする `index.ts` など）はインポートを簡素化するためのものですが、多くの場合、アーキテクチャのブラックホールに変わってしまいます。

## なぜこれが「不吉な臭い」なのか

- **循環依存ファクトリー**: 巨大なバレルは、追跡不可能な間接的循環依存の原因第1位です。
- **全世界をインポート**: 巨大なバレルから1つの小さな定数をインポートすると、バンドラーはそのバレルが参照するすべてのモジュールを引っ張ってきてしまうことが多いです。
- **速度低下**: IDEのインデックス作成が遅くなり、tree-shakingが完璧でない場合、本番バンドルを肥大化させる可能性があります。

## 設定

```yaml
rules:
  barrel_file:
    severity: high
    max_reexports: 10
```

## ESLint ルール

このディテクターは、エディター内でリアルタイムのフィードバックを提供する ESLint ルールとして利用可能です。

```javascript
// eslint.config.js
export default [
  {
    rules: {
      '@archlinter/no-barrel-abuse': 'warn',
    },
  },
];
```

セットアップ手順については [ESLint Integration](/ja/integrations/eslint) を参照してください。

## 修正方法

- 大規模なディレクトリのルートにある「何でも屋」的なバレルファイルを避けてください。
- バレルファイルが問題を引き起こしている場合は、直接インポートすることを検討してください。
- エクスポートを、より小さく特定の目的に絞ったバレルファイルに分割してください。
