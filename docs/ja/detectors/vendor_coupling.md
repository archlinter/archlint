# ベンダー結合 (Vendor Coupling)

**ID:** `vendor_coupling` | **重要度:** Medium (default)

特定の外部ライブラリやフレームワークに「結婚」してしまったモジュールを特定します。

## なぜこれが「不吉な臭い」なのか

- **ベンダーロックイン**: そのライブラリが非推奨になったり、より良い代替品に切り替えることを決定したりすると、コードベースの半分を書き直さなければなりません。
- **テストの摩擦**: 重い外部ライブラリとそのモックも引っ張ってこないと、ビジネスロジックをテストできません。
- **アップグレードが困難**: ライブラリがすべてのファイルに織り込まれているため、ライブラリがサポートするバージョンに縛られてしまいます。

## 修正方法

**Adapter パターン**を使用してください。ドメイン内にインターフェースを作成し、外部ライブラリを使用してそれを実装します。残りのコードは、作成したインターフェースにのみ依存するようにします。

## 設定

```yaml
rules:
  vendor_coupling:
    severity: medium
    max_files_per_package: 10
    ignore_packages:
      - 'lodash'
      - 'rxjs'
      - '@nestjs/*'
```

### オプション

- `max_files_per_package`（デフォルト: 10）: 不吉な臭いが報告される前に、特定のパッケージをインポートできるファイルの最大数。
- `ignore_packages`: 無視するパッケージ名またはglobパターンのリスト。
