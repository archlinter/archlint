# Archlint Configuration Example

# Files and directories to ignore globally
ignore:
  - "**/node_modules/**"
  - "**/dist/**"
  - "**/*.test.ts"
  - "**/*.spec.ts"

# Path aliases (similar to tsconfig.json)
aliases:
  "@/*": "src/*"

# Presets to extend
extends:
  - nestjs

# Entry points for dead code analysis
entry_points:
  - "src/main.ts"

# Maximum file size in bytes to analyze (default: 1048576 = 1MB)
max_file_size: 1048576

# Rule-specific configuration
rules:
  # Short form: level or "off"
  cycles: error
  dead_code: warn

  vendor_coupling:
    severity: warn
    ignore_packages: ["lodash", "rxjs"]

  hub_dependency:
    severity: error
    ignore_packages: ["lodash", "rxjs"]

  # Full form: with additional parameters
  god_module:
    severity: high
    fan_in: 15
    fan_out: 15
    churn: 20
    exclude: ["**/legacy/**"]

  layer_violation:
    severity: error
    layers:
      - name: domain
        path: "**/domain/**"
        allowed_imports: []
      - name: application
        path: "**/application/**"
        allowed_imports: ["domain"]

# Path-specific overrides
overrides:
  - files: ["**/tests/**", "**/mocks/**"]
    rules:
      complexity: off
      god_module: off

# Scoring and grading configuration
scoring:
  minimum: warn
  weights:
    critical: 100
    high: 50
    medium: 20
    low: 5

auto_detect_framework: true
